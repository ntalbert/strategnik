---
import BaseLayout from '../layouts/BaseLayout.astro';
import PostCard from '../components/PostCard.astro';
import NewsletterForm from '../components/NewsletterForm.astro';
import RotatingText from '../components/RotatingText.astro';
import BrandGravityHero from '../components/BrandGravityHero.astro';

const rotatingWords = ['demand', 'systems', 'pipeline', 'revenue', 'brands', 'growth'];

const recentPosts = [
  {
    title: "Momentum: Why Some Marketing Investments Compound",
    description: "In physics, momentum equals mass times velocity. In marketing, it's the force that makes good programs get better and bad ones get worse.",
    date: new Date('2025-01-10'),
    category: 'physics',
    slug: 'momentum-marketing-investments',
  },
  {
    title: "The Friction Problem Nobody Talks About",
    description: "Every point of friction in your funnel isn't just losing you leads—it's training the market that you're hard to work with.",
    date: new Date('2025-01-05'),
    category: 'field-notes',
    slug: 'friction-problem',
  },
  {
    title: "Inflection Points: When to Pour Fuel on the Fire",
    description: "The difference between growth-stage success and failure often comes down to recognizing the moment when your marketing engine is ready to scale.",
    date: new Date('2024-12-28'),
    category: 'playbook',
    slug: 'inflection-points',
  }
];
---

<BaseLayout title="Home">

  <!-- Brand Gravity Hero Section -->
  <BrandGravityHero overlayOpacity={0.5}>

    <!-- Hero - First viewport -->
    <section class="min-h-screen flex items-center justify-center">
      <div class="container-narrow text-center py-20">
        <h1 class="text-display-xl font-display italic font-bold mb-8 text-white" data-animate-hero>
          I build <RotatingText words={rotatingWords} />
        </h1>
        <p class="text-body-lg text-white font-bold max-w-prose mx-auto mb-10" data-animate-hero-sub>
          Demand engines for growth-stage B2B SaaS companies at critical growth inflection points.
        </p>
        <div class="flex flex-wrap justify-center gap-6 font-bold" data-animate-hero-links>
          <a href="/physics-of-marketing" class="text-white hover:text-blue-bright transition-colors">
            Explore the framework →
          </a>
          <a href="/services" class="text-white font-bold hover:text-blue-bright transition-colors">
            Work together →
          </a>
        </div>
      </div>
    </section>

    <!-- Spacer -->
    <div class="h-[30vh]"></div>

    <!-- Framework Intro -->
    <section class="pt-32 pb-16">
      <div class="container-narrow">
        <p class="text-caption text-white tracking-wide mb-6 font-bold">Framework</p>
        <h2 class="text-display-xl font-display italic text-white font-extrabold mb-8">
          The Physics of Marketing
        </h2>
        <p class="text-body-lg text-white font-bold max-w-prose">
          Marketing isn't art or science—it's engineering. The same laws that govern physical systems
          govern marketing systems.
        </p>
      </div>
    </section>

    <!-- Concepts -->
    <section class="pb-32">
      <div class="container-narrow">
        <div class="space-y-32">
          <div class="max-w-lg">
            <p class="text-white text-small mb-2 font-bold">01</p>
            <h3 class="text-display font-display italic text-white font-extrabold mb-4">Momentum</h3>
            <p class="text-body-lg text-white font-bold">
              Why some marketing investments compound while others dissipate into nothing.
            </p>
          </div>

          <div class="max-w-lg ml-auto text-right">
            <p class="text-white text-small mb-2 font-bold">02</p>
            <h3 class="text-display font-display italic text-white font-extrabold mb-4">Friction</h3>
            <p class="text-body-lg text-white font-bold">
              The hidden force destroying your conversion rates at every stage.
            </p>
          </div>

          <div class="max-w-lg">
            <p class="text-white text-small mb-2 font-bold">03</p>
            <h3 class="text-display font-display italic text-white font-extrabold mb-4">Gravity</h3>
            <p class="text-body-lg text-white font-bold">
              Market forces that pull prospects toward—or away from—your solution.
            </p>
          </div>
        </div>
      </div>
    </section>

    <!-- CTA -->
    <section class="min-h-[50vh] flex items-center justify-center">
      <div class="text-center">
        <a href="/physics-of-marketing" class="text-heading font-display italic text-white font-extrabold hover:text-blue-bright transition-colors">
          Explore the full framework →
        </a>
      </div>
    </section>

  </BrandGravityHero>

  <!-- Writing Section - Black background -->
  <section class="section bg-black">
    <div class="container-narrow">
      <div class="flex justify-between items-baseline mb-10">
        <div>
          <p class="text-caption text-blue-bright tracking-wide mb-6 font-bold">Writing</p>
          <h2 class="text-display text-white font-bold" data-animate>Recent Thinking</h2>
        </div>
        <a href="/writing" class="text-small text-blue-bright hover:text-white transition-colors hidden md:block font-bold" data-animate-fade>
          View all →
        </a>
      </div>

      <div class="space-y-6" data-animate-stagger="0.08">
        {recentPosts.map((post) => (
          <PostCard {...post} variant="dark" />
        ))}
      </div>

      <div class="mt-8 md:hidden" data-animate>
        <a href="/writing" class="text-small text-blue-bright hover:text-white transition-colors font-bold">
          View all writing →
        </a>
      </div>
    </div>
  </section>

  <!-- Services Preview - Black background -->
  <section class="section bg-black border-t border-gray-800">
    <div class="container-narrow">
      <p class="text-caption text-blue-bright tracking-wide mb-6 font-bold">Services</p>
      <h2 class="text-display text-white font-bold mb-6" data-animate>Ready to build your engine?</h2>
      <p class="text-body-lg text-blue-bright font-bold mb-8 max-w-prose" data-animate data-animate-delay="0.1">
        I work with growth-stage B2B SaaS companies at inflection points—when the stakes
        are high and the right marketing investment matters most.
      </p>
      <div class="flex gap-12 mb-10" data-animate data-animate-delay="0.2">
        <div>
          <p class="text-display-lg text-white font-bold">20+</p>
          <p class="text-small text-blue-bright font-bold">Years in B2B SaaS</p>
        </div>
        <div>
          <p class="text-display-lg text-white font-bold">3</p>
          <p class="text-small text-blue-bright font-bold">Companies acquired</p>
        </div>
      </div>
      <a href="/services" class="text-blue-bright hover:text-white transition-colors font-bold" data-animate data-animate-delay="0.3">
        How I work →
      </a>
    </div>
  </section>

  <!-- Newsletter -->
  <NewsletterForm variant="default" />

</BaseLayout>

---
interface Props {
  title: string;
  description: string;
  date: Date;
  category: string;
  slug: string;
  featured?: boolean;
}

const { title, description, date, category, slug, featured = false } = Astro.props;

const formattedDate = date.toLocaleDateString('en-US', {
  year: 'numeric',
  month: 'long',
  day: 'numeric'
});

const categoryLabels: Record<string, string> = {
  'field-notes': 'Field Notes',
  'case-study': 'Case Study',
  'playbook': 'Playbook',
  'physics': 'Physics of Marketing'
};
---

<article class={`group ${featured ? 'card-hover' : ''}`}>
  <a href={`/writing/${slug}`} class="block">
    <div class="flex items-center gap-4 mb-3">
      <span class="tag">{categoryLabels[category] || category}</span>
      <time class="text-small text-gray-mid" datetime={date.toISOString()}>
        {formattedDate}
      </time>
    </div>
    
    <h3 class={`${featured ? 'text-heading' : 'text-subheading'} text-charcoal-deep group-hover:text-forest transition-colors mb-2`}>
      {title}
    </h3>
    
    <p class="text-body text-gray-mid line-clamp-2">
      {description}
    </p>
    
    <span class="inline-block mt-4 text-forest text-small font-medium group-hover:translate-x-1 transition-transform">
      Read more â†’
    </span>
  </a>
</article>
